"0","# Bind EEZ data with total area and percent calculations"
"0","eez_joined <- cbind(eez, total_suitable_area, percent_suitable_area) %>%"
"0","  mutate(""Suitable area (km^2)"" = value / 1000000) %>%"
"0","  mutate(""Percent suitable"" = value.1) %>% "
"0","  dplyr::select(-value, -value.1, -zone, -zone.1)"
"0",""
"0","# Store polygons for U.S. West Coast States from spData package"
"0","CA <- us_states %>%"
"0","  filter(NAME == ""California"")"
"0","OR <- us_states %>%"
"0","  filter(NAME == ""Oregon"")"
"0","WA <- us_states %>%"
"0","  filter(NAME == ""Washington"")"
"0",""
"0","# Initialize new bbox using EEZ bbox"
"0","bbox_new <- st_bbox(eez)"
"0",""
"0","# Create variable for x range of bbox"
"0","xrange <- bbox_new$xmax - bbox_new$xmin"
"0",""
"0","# Set new x range for bbox"
"0","bbox_new[3] <- bbox_new[3] + (0.9 * xrange)"
"0",""
"0","# Convert bbox to sfc"
"0","bbox_new <- bbox_new %>%"
"0","  st_as_sfc()"
"0",""
"0","# Create plot of total suitable area for oysters in U.S. West Coast EEZs"
"0","total_area_map <- "
"0","  tm_shape(eez_joined, bbox = bbox_new) +"
"0","  tm_fill(""Suitable area (km^2)"", palette=""Reds"", style = ""equal"", n=6) +"
"0","  tm_borders() +"
"0","  tm_shape(CA) +"
"0","  tm_borders() +"
"0","  tm_shape(OR) +"
"0","  tm_borders() +"
"0","  tm_shape(WA) +"
"0","  tm_borders() +"
"0","  tm_compass(position = c(""left"", ""bottom"")) +"
"0","  tm_scale_bar(position = c(""left"", ""bottom"")) +"
"0","  tm_layout(title = ""Suitable area for oyster aquaculture"") +"
"0","  tm_layout(legend.position = c(""right"", ""center"")) +"
"0","  tm_layout(inner.margins = 0.15)"
"0",""
"0","# Create plot of percent suitable area for oysters in U.S. West Coast EEZs"
"0","tmap_mode(""plot"")"
"0","percent_area_map <- "
"0","  tm_shape(eez_joined, bbox = bbox_new) +"
"0","  tm_fill(""Percent suitable"", palette=""BuPu"", style = ""equal"", n=6) +"
"0","  tm_borders() +"
"0","  tm_shape(CA) +"
"0","  tm_borders() +"
"0","  tm_shape(OR) +"
"0","  tm_borders() +"
"0","  tm_shape(WA) +"
"0","  tm_borders() +"
"0","  tm_compass(position = c(""left"", ""bottom"")) +"
"0","  tm_scale_bar(position = c(""left"", ""bottom"")) +"
"0","  tm_layout(title = ""Suitable area for oyster aquaculture"") +"
"0","  tm_layout(legend.position = c(""right"", ""center"")) +"
"0","  tm_layout(inner.margins = 0.15)"
"0","tmap_mode(""plot"")"
"0","tmap_arrange(total_area_map, percent_area_map)"
